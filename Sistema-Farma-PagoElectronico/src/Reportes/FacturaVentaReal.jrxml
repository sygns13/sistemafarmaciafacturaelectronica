<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="FacturaVentaReal" language="groovy" pageWidth="578" pageHeight="467" columnWidth="539" leftMargin="11" rightMargin="28" topMargin="34" bottomMargin="14" uuid="56b04217-a450-4aef-b291-2c51ad7aad61">
	<property name="ireport.zoom" value="1.3310000000000017"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="idVenta" class="java.lang.String"/>
	<parameter name="montoLetra" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["D:\\NetBeansProjects\\Sistema-Ferreteria\\src\\Reportes\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT v.`idVenta`, date_format(v.`fecha`,'%d') AS dia,
getMonth(MONTH(v.`fecha`)) AS mesLetras,
date_format(v.`fecha`,'%m')AS mes,date_format(v.`fecha`,'%y') AS anio,cast(right(Year(v.`fecha`),1) as char) AS anioL,
c.`dniRuc`, c.`nomcte`, c.`direc`, v.`subTotalInafecto`,v.`subTotalAfecto`,  v.`igv`,ROUND( v.`subTotalAfecto`+ v.`igv`,2) AS noExonerado, ROUND( v.`subTotalInafecto`+v.`subTotalAfecto`+ v.`igv`,2) AS total FROM venta v, cliente c
WHERE v.`idCliente`=c.`idCliente` AND v.`idVenta`=$P{idVenta};]]>
	</queryString>
	<field name="idVenta" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="dia" class="java.lang.String"/>
	<field name="mesLetras" class="java.lang.String"/>
	<field name="mes" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="anio" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="anioL" class="java.lang.String"/>
	<field name="dniRuc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nomcte" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="direc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="subTotalInafecto" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="subTotalAfecto" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="igv" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="noExonerado" class="java.math.BigDecimal"/>
	<field name="total" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="158" splitType="Stretch">
			<textField>
				<reportElement x="407" y="123" width="41" height="17" uuid="55489804-3d45-4fa5-8a04-602a160232db"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{dia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="51" y="143" width="275" height="15" uuid="ef55b2d4-bf17-40f6-b97b-0258ad33b04d"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="SansSerif" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{direc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="36" y="124" width="125" height="20" uuid="e5e9c2fd-0723-4864-a778-3659a3cca719"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="SansSerif" size="13" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dniRuc}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="36" y="109" width="275" height="20" uuid="d1069480-0616-4fc6-9550-0b8318c6936a"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nomcte}]]></textFieldExpression>
			</textField>
			<textField pattern="###0.00">
				<reportElement x="446" y="123" width="29" height="17" uuid="53f8db5d-f96e-403d-9584-a28f76a211eb"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mes}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="475" y="123" width="41" height="17" uuid="a1875670-3fa7-441f-9172-130a748de403"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SansSerif" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{anio}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="169" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="539" height="169" uuid="b63cbfc6-caca-434e-8a09-6a876e410d0e"/>
				<subreportParameter name="idVenta">
					<subreportParameterExpression><![CDATA[$P{idVenta}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "facturaVenta_detalle.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band height="75" splitType="Stretch">
			<textField pattern="#,##0.00">
				<reportElement x="448" y="18" width="71" height="17" uuid="b5b81820-01e2-4476-8bce-00e29dccaf32"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Arial" size="9" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{igv}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="412" y="18" width="15" height="17" uuid="ba2e2f7e-ce85-4a79-8abe-bfb0ec66291d"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="9" isBold="true" isItalic="false"/>
				</textElement>
				<text><![CDATA[18]]></text>
			</staticText>
			<textField pattern="#,##0.00">
				<reportElement x="448" y="36" width="71" height="19" uuid="e26ecb91-428b-42e4-a608-6c9bee43cd18"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font fontName="Arial" size="9" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="190" y="19" width="30" height="20" uuid="89fbcf10-c9eb-4536-9c48-58c594534c5e"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="SansSerif" size="9" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{dia}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="448" y="2" width="71" height="13" uuid="0bc0101b-b2ce-4d63-931d-97ba58968a23"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="9" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{subTotalInafecto}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="67" y="-2" width="316" height="15" uuid="fba32197-5e39-4049-bd2e-c5d0edbc4d7a"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="SansSerif" size="9" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{montoLetra}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="353" y="19" width="38" height="20" uuid="8127b9ca-30b1-4d71-9633-1cbbfa0c85ca"/>
				<textElement verticalAlignment="Bottom"/>
				<textFieldExpression><![CDATA[$F{anioL}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="240" y="19" width="55" height="20" uuid="ed7b2bfa-0fed-410a-a2db-0ba00e9a806a"/>
				<textElement verticalAlignment="Bottom"/>
				<textFieldExpression><![CDATA[$F{mesLetras}]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
</jasperReport>
