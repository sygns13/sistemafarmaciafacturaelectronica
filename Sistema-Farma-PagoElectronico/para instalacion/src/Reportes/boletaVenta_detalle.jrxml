<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="boleta_detalle" language="groovy" pageWidth="567" pageHeight="226" columnWidth="567" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="0fa418aa-e1f4-467c-951b-ec1cf5101344">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="idVenta" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(0)]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT v.`Unidad`, d.`cantidad`, v.`Descripcion`, d.`precioVenta` as precioUnitario, IF(d.`esGrabado`=TRUE,0.00,ROUND(d.`cantidad`* d.`precioVenta` ,2)) as inafecto ,IF(d.`esGrabado`=TRUE,ROUND(d.`cantidad`* d.`precioVenta` ,2),0.00) as afecto FROM detalleventa d, vta_catalogo v
WHERE d.`idProducto`=v.`ID` AND d.`idVenta`=$P{idVenta};]]>
	</queryString>
	<field name="Unidad" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="cantidad" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="Descripcion" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="precioUnitario" class="java.math.BigDecimal"/>
	<field name="inafecto" class="java.math.BigDecimal"/>
	<field name="afecto" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="17" splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="50" height="17" uuid="797f1ff2-c061-4bb6-bfe0-b9a7980dfbf6"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Unidad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="47" y="0" width="33" height="17" uuid="35a16b6a-cbdd-48bb-9d62-2ba43efd4b94"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cantidad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="87" y="0" width="307" height="17" uuid="7e662427-c691-4f8a-bca0-4851a9c4b2fb"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Descripcion}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="386" y="0" width="50" height="17" uuid="f087e53b-2452-49b2-a956-2a044a282d31"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{precioUnitario}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="439" y="0" width="55" height="17" uuid="37e957c1-f67c-48f6-b14b-f92d8b2c512b"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{inafecto}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00">
				<reportElement x="499" y="0" width="42" height="17" uuid="9065eea9-5cb1-47a2-8755-ca87b0d054c8"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{afecto}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
</jasperReport>
